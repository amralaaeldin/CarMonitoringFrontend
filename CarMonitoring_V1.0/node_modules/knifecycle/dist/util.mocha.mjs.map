{"version":3,"sources":["../src/util.mocha.js"],"names":["assert","sinon","reuseSpecialProps","wrapInitializer","parseDependencyDeclaration","name","autoName","type","inject","autoInject","alsoInject","useInject","mergeInject","parseInjections","options","extra","initializer","constant","service","autoService","provider","autoProvider","handler","autoHandler","SPECIAL_PROPS","aProvider","describe","it","from","to","$name","$type","$inject","$options","singleton","$extra","httpHandler","newFn","notEqual","equal","deepEqual","newFn2","baseInitializer","Promise","resolve","log","stub","newInitializer","args","INJECT","dependencies","throws","fromDependencies","fromInitializer","toDependencies","toInitializer","baseProvider","ENV","mysql","db","noop","debug","aDebug","userId","currentTime","Date","now","foo","bar","console","baseOptions","OPTIONS","rootOptions","yolo","baseName","NAME","hash","initHash","initializeHash","extraInformations","EXTRA","baseExtraInformations","additionalExtraInformations","baseType","TYPE","baseValue","VALUE","aServiceBuilder","baseServiceBuilder","initializeMySQL","injectedServices","services","kikooo","lol","theInitializer","sampleHandler","theHandler","result","deps","serviceName","mappedName","optional"],"mappings":"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","sourcesContent":["import assert from 'assert';\nimport sinon from 'sinon';\nimport {\n  reuseSpecialProps,\n  wrapInitializer,\n  parseDependencyDeclaration,\n  name,\n  autoName,\n  type,\n  inject,\n  autoInject,\n  alsoInject,\n  useInject,\n  mergeInject,\n  parseInjections,\n  options,\n  extra,\n  initializer,\n  constant,\n  service,\n  autoService,\n  provider,\n  autoProvider,\n  handler,\n  autoHandler,\n  SPECIAL_PROPS,\n} from './util';\n\nfunction aProvider() {}\n\ndescribe('reuseSpecialProps', () => {\n  it('should work', () => {\n    // We can safely ignore coverage here since the\n    // function are here just as placeholders\n    /* istanbul ignore next */\n    function from() {\n      return 'from';\n    }\n    /* istanbul ignore next */\n    function to() {\n      return 'to';\n    }\n\n    from.$name = 'from';\n    from.$type = 'service';\n    from.$inject = ['ki', 'kooo', 'lol'];\n    from.$options = { singleton: false };\n    from.$extra = { httpHandler: true };\n\n    const newFn = reuseSpecialProps(from, to);\n\n    assert.notEqual(newFn, to);\n    assert.equal(newFn.$name, from.$name);\n    assert.equal(newFn.$type, from.$type);\n    assert.notEqual(newFn.$inject, from.$inject);\n    assert.deepEqual(newFn.$inject, from.$inject);\n    assert.notEqual(newFn.$options, from.$options);\n    assert.deepEqual(newFn.$options, from.$options);\n    assert.notEqual(newFn.$extra, from.$extra);\n    assert.deepEqual(newFn.$extra, from.$extra);\n\n    const newFn2 = reuseSpecialProps(from, to, {\n      $name: 'yolo',\n    });\n\n    assert.notEqual(newFn2, to);\n    assert.equal(newFn2.$name, 'yolo');\n    assert.equal(newFn2.$type, from.$type);\n    assert.notEqual(newFn2.$inject, from.$inject);\n    assert.deepEqual(newFn2.$inject, from.$inject);\n    assert.notEqual(newFn2.$options, from.$options);\n    assert.deepEqual(newFn2.$options, from.$options);\n    assert.notEqual(newFn.$extra, from.$extra);\n    assert.deepEqual(newFn.$extra, from.$extra);\n  });\n});\n\ndescribe('wrapInitializer', () => {\n  it('should work', async () => {\n    function baseInitializer() {\n      return Promise.resolve(() => 'test');\n    }\n\n    baseInitializer.$name = 'baseInitializer';\n    baseInitializer.$type = 'service';\n    baseInitializer.$inject = ['log', '?test'];\n    baseInitializer.$options = { singleton: false };\n    baseInitializer.$extra = { httpHandler: false };\n\n    const log = sinon.stub();\n    const newInitializer = wrapInitializer(({ log }, service) => {\n      log('Wrapping...');\n      return () => service() + '-wrapped';\n    }, baseInitializer);\n\n    const service = await newInitializer({ log });\n    assert.equal(service(), 'test-wrapped');\n    assert.deepEqual(log.args, [['Wrapping...']]);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], ['log', '?test']);\n  });\n});\n\ndescribe('inject', () => {\n  it('should allow to decorate an initializer with dependencies', () => {\n    const dependencies = ['ENV'];\n    const newInitializer = inject(dependencies, aProvider);\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n  });\n\n  it('should allow to decorate an initializer with mapped dependencies', () => {\n    const dependencies = ['ANOTHER_ENV>ENV'];\n    const newInitializer = inject(dependencies, aProvider);\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n  });\n\n  it('should fail with a constant', () => {\n    assert.throws(() => {\n      inject(['test'], constant('test', 'test'));\n    }, /E_BAD_INJECT_IN_CONSTANT/);\n  });\n});\ndescribe('useInject', () => {\n  it('should set the right dependencies', () => {\n    const fromDependencies = ['ENV', 'CORS'];\n    const fromInitializer = inject(fromDependencies, aProvider);\n    const toDependencies = ['db', 'log'];\n    const toInitializer = inject(toDependencies, aProvider);\n    const newInitializer = useInject(fromInitializer, toInitializer);\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.INJECT], fromDependencies);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.INJECT], toDependencies);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], [\n      ...fromDependencies,\n    ]);\n  });\n});\n\ndescribe('mergeInject', () => {\n  it('should amend dependencies', () => {\n    const fromDependencies = ['ENV', 'CORS'];\n    const fromInitializer = inject(fromDependencies, aProvider);\n    const toDependencies = ['db', 'log'];\n    const toInitializer = inject(toDependencies, aProvider);\n    const newInitializer = mergeInject(fromInitializer, toInitializer);\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.INJECT], fromDependencies);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.INJECT], toDependencies);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], [\n      ...toDependencies,\n      ...fromDependencies,\n    ]);\n  });\n});\n\ndescribe('autoInject', () => {\n  it('should allow to decorate an initializer with dependencies', () => {\n    const baseProvider = async ({ ENV, mysql: db }) => async () => ({\n      ENV,\n      db,\n    });\n    const dependencies = ['ENV', 'mysql'];\n    const newInitializer = autoInject(baseProvider);\n\n    assert.notEqual(newInitializer, baseProvider);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n  });\n\n  it('should allow to decorate an initializer with a function name', () => {\n    async function baseProvider({ ENV, mysql: db }) {\n      async () => ({\n        ENV,\n        db,\n      });\n    }\n    const dependencies = ['ENV', 'mysql'];\n    const newInitializer = autoInject(baseProvider);\n\n    assert.notEqual(newInitializer, baseProvider);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n  });\n\n  it('should allow to decorate an initializer with optional dependencies', () => {\n    const noop = () => {};\n    const baseProvider = async ({\n      ENV,\n      log = noop,\n      debug: aDebug = noop,\n    }) => async () => ({\n      ENV,\n      log,\n      aDebug,\n    });\n    const dependencies = ['ENV', '?log', '?debug'];\n    const newInitializer = autoInject(baseProvider);\n\n    assert.notEqual(newInitializer, baseProvider);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n  });\n\n  it('should allow to decorate an initializer with several arguments', () => {\n    const noop = () => {};\n    const baseProvider = async (\n      { ENV, log = noop, debug: aDebug = noop },\n      { userId },\n    ) => async () => ({\n      ENV,\n      log,\n      aDebug,\n      userId,\n    });\n    const dependencies = ['ENV', '?log', '?debug'];\n    const newInitializer = autoInject(baseProvider);\n\n    assert.notEqual(newInitializer, baseProvider);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n  });\n\n  it('should allow to decorate an initializer with complex arguments', () => {\n    const noop = () => {};\n    const baseProvider = async (\n      { ENV, log = noop, debug: aDebug = noop },\n      { userId, currentTime = Date.now() },\n    ) => async () => ({\n      ENV,\n      log,\n      aDebug,\n      userId,\n      currentTime,\n    });\n    const dependencies = ['ENV', '?log', '?debug'];\n    const newInitializer = autoInject(baseProvider);\n\n    assert.notEqual(newInitializer, baseProvider);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n  });\n\n  it('should fail with non async initializers', () => {\n    assert.throws(() => {\n      autoInject(({ foo: bar = { bar: 'foo' } }) => {\n        return bar;\n      });\n    }, /E_NON_ASYNC_INITIALIZER/);\n  });\n\n  it('should fail with too complex injections', () => {\n    assert.throws(() => {\n      autoInject(async ({ foo: bar = { bar: 'foo' } }) => {\n        return bar;\n      });\n    }, /E_AUTO_INJECTION_FAILURE/);\n  });\n\n  it('should fail with no injections', () => {\n    assert.throws(() => {\n      autoInject(async () => {});\n    }, /E_AUTO_INJECTION_FAILURE/);\n  });\n});\n\ndescribe('alsoInject', () => {\n  it('should allow to decorate an initializer with dependencies', () => {\n    const newInitializer = alsoInject(['ENV'], inject(['TEST'], aProvider));\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], ['TEST', 'ENV']);\n  });\n\n  it('should allow to decorate an initializer with dependencies', () => {\n    const newInitializer = alsoInject(['ENV'], aProvider);\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], ['ENV']);\n  });\n\n  it('should dedupe dependencies', () => {\n    const baseProvider = inject(['?TEST'], aProvider);\n    const newInitializer = alsoInject(\n      ['ENV', '?NODE_ENV', '?TEST', 'TEST2', 'db>mysql'],\n      alsoInject(['ENV', 'NODE_ENV', '?TEST', '?TEST2', 'mysql'], baseProvider),\n    );\n\n    assert.notEqual(newInitializer, baseProvider);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], [\n      'mysql',\n      'ENV',\n      'NODE_ENV',\n      '?TEST',\n      'TEST2',\n      'db>mysql',\n    ]);\n  });\n\n  it('should preserve single optional dependencies', () => {\n    const baseProvider = inject(['ENV', '?TEST'], aProvider);\n    const newInitializer = alsoInject(\n      ['ENV', '?TEST2'],\n      alsoInject(['ENV', '?TEST3'], baseProvider),\n    );\n\n    assert.notEqual(newInitializer, baseProvider);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], [\n      '?TEST',\n      '?TEST3',\n      'ENV',\n      '?TEST2',\n    ]);\n  });\n\n  it('should preserve mapped dependencies', () => {\n    const baseProvider = inject(['mysql', '?sftp'], aProvider);\n    const newInitializer = alsoInject(['db>mysql', '?ftp>sftp'], baseProvider);\n    console.log(newInitializer[SPECIAL_PROPS.INJECT]);\n    assert.notEqual(newInitializer, baseProvider);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], [\n      'mysql',\n      '?sftp',\n      'db>mysql',\n      '?ftp>sftp',\n    ]);\n  });\n\n  it('should solve dependencies alias name clash', () => {\n    const baseProvider = inject(['?TEST'], aProvider);\n    const newInitializer = alsoInject(\n      ['ENV', '?NODE_ENV', '?TEST', 'db>mysql', '?log>logly'],\n      alsoInject(\n        ['ENV', 'NODE_ENV', '?TEST', 'db>pg', '?log>logger'],\n        baseProvider,\n      ),\n    );\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], [\n      'ENV',\n      'NODE_ENV',\n      '?TEST',\n      'db>mysql',\n      '?log>logly',\n    ]);\n  });\n\n  it('should solve dependencies alias name clash', () => {\n    const baseProvider = inject(['?TEST'], aProvider);\n    const newInitializer = alsoInject(\n      ['ENV', '?NODE_ENV', '?TEST', 'db>mysql', '?log>logly'],\n      alsoInject(\n        ['ENV', 'NODE_ENV', '?TEST', 'db>pg', '?log>logger'],\n        baseProvider,\n      ),\n    );\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], [\n      'ENV',\n      'NODE_ENV',\n      '?TEST',\n      'db>mysql',\n      '?log>logly',\n    ]);\n  });\n});\n\ndescribe('parseInjections', () => {\n  it('should work with TypeScript dependencies', () => {\n    assert.deepEqual(\n      parseInjections(`async function initNexmo({\n      ENV,\n      NEXMO,\n      log = noop,\n    }: {\n      ENV: any;\n      NEXMO: any;\n      log: Function;\n    }): Promise<SMSService> {}`),\n      ['ENV', 'NEXMO', '?log'],\n    );\n  });\n\n  it('should allow to decorate an initializer with dependencies', () => {\n    const newInitializer = alsoInject(['ENV'], aProvider);\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], ['ENV']);\n  });\n});\n\ndescribe('options', () => {\n  it('should allow to decorate an initializer with options', () => {\n    const dependencies = ['ANOTHER_ENV>ENV'];\n    const baseOptions = { singleton: true };\n    const newInitializer = inject(\n      dependencies,\n      options(baseOptions, aProvider, false),\n    );\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.OPTIONS], baseOptions);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.OPTIONS], baseOptions);\n  });\n\n  it('should allow to decorate an initializer with options', () => {\n    const dependencies = ['ANOTHER_ENV>ENV'];\n    const rootOptions = { yolo: true, singleton: false };\n    const baseOptions = { singleton: true };\n    const newInitializer = inject(\n      dependencies,\n      options(baseOptions, options(rootOptions, aProvider), true),\n    );\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.OPTIONS], rootOptions);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.OPTIONS], baseOptions);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.OPTIONS], {\n      ...rootOptions,\n      ...baseOptions,\n    });\n  });\n});\n\ndescribe('name', () => {\n  it('should allow to decorate an initializer with a name', () => {\n    const dependencies = ['ANOTHER_ENV>ENV'];\n    const baseOptions = { singleton: true };\n    const baseName = 'hash';\n    const newInitializer = inject(\n      dependencies,\n      options(baseOptions, name(baseName, aProvider)),\n    );\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.OPTIONS], baseOptions);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.OPTIONS], baseOptions);\n    assert.equal(newInitializer[SPECIAL_PROPS.NAME], baseName);\n  });\n});\n\ndescribe('autoName', () => {\n  it('should allow to decorate an initializer with its function name', () => {\n    const dependencies = ['ANOTHER_ENV>ENV'];\n    const baseOptions = { singleton: true };\n    const baseName = 'hash';\n    const newInitializer = inject(\n      dependencies,\n      options(\n        baseOptions,\n        autoName(async function hash() {}),\n      ),\n    );\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.OPTIONS], baseOptions);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.OPTIONS], baseOptions);\n    assert.equal(newInitializer[SPECIAL_PROPS.NAME], baseName);\n  });\n\n  it('should allow to decorate an initializer with its init like function name', () => {\n    const dependencies = ['ANOTHER_ENV>ENV'];\n    const baseOptions = { singleton: true };\n    const baseName = 'hash';\n    const newInitializer = inject(\n      dependencies,\n      options(\n        baseOptions,\n        autoName(async function initHash() {}),\n      ),\n    );\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.OPTIONS], baseOptions);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.OPTIONS], baseOptions);\n    assert.equal(newInitializer[SPECIAL_PROPS.NAME], baseName);\n  });\n\n  it('should allow to decorate an initializer with its initialize like function name', () => {\n    const dependencies = ['ANOTHER_ENV>ENV'];\n    const baseOptions = { singleton: true };\n    const baseName = 'hash';\n    const newInitializer = inject(\n      dependencies,\n      options(\n        baseOptions,\n        autoName(async function initializeHash() {}),\n      ),\n    );\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.OPTIONS], baseOptions);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.OPTIONS], baseOptions);\n    assert.equal(newInitializer[SPECIAL_PROPS.NAME], baseName);\n  });\n\n  it('should allow to decorate a bounded initializer', () => {\n    const dependencies = ['ANOTHER_ENV>ENV'];\n    const baseOptions = { singleton: true };\n    const baseName = 'hash';\n    const newInitializer = autoName(\n      inject(\n        dependencies,\n        options(baseOptions, async function initializeHash() {}),\n      ),\n    );\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.OPTIONS], baseOptions);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.OPTIONS], baseOptions);\n    assert.equal(newInitializer[SPECIAL_PROPS.NAME], baseName);\n  });\n\n  it('should fail with anonymous functions', () => {\n    assert.throws(() => {\n      autoName(async () => {});\n    }, /E_AUTO_NAMING_FAILURE/);\n  });\n});\n\ndescribe('extra', () => {\n  it('should allow to decorate an initializer with extra infos', () => {\n    const extraInformations = { httpHandler: true };\n    const newInitializer = extra(extraInformations, aProvider);\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.EXTRA], extraInformations);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.EXTRA], extraInformations);\n  });\n\n  it('should allow to decorate an initializer with extra infos', () => {\n    const extraInformations = { httpHandler: true };\n    const newInitializer = extra(extraInformations, aProvider, true);\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.EXTRA], extraInformations);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.EXTRA], extraInformations);\n  });\n\n  it('should allow to decorate an initializer with additional extra infos', () => {\n    const baseExtraInformations = { yolo: true, httpHandler: false };\n    const additionalExtraInformations = { httpHandler: true };\n    const newInitializer = extra(\n      baseExtraInformations,\n      extra(additionalExtraInformations, aProvider),\n      true,\n    );\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.EXTRA], baseExtraInformations);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.EXTRA], baseExtraInformations);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.EXTRA], {\n      ...baseExtraInformations,\n      ...baseExtraInformations,\n    });\n  });\n});\n\ndescribe('type', () => {\n  it('should allow to decorate an initializer with a type', () => {\n    const dependencies = ['ANOTHER_ENV>ENV'];\n    const baseOptions = { singleton: true };\n    const baseName = 'hash';\n    const baseType = 'service';\n    const newInitializer = inject(\n      dependencies,\n      options(baseOptions, name(baseName, type(baseType, aProvider))),\n    );\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.OPTIONS], baseOptions);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.OPTIONS], baseOptions);\n    assert.equal(newInitializer[SPECIAL_PROPS.NAME], baseName);\n    assert.equal(newInitializer[SPECIAL_PROPS.TYPE], baseType);\n  });\n});\n\ndescribe('initializer', () => {\n  it('should allow to decorate an initializer with every properties', () => {\n    const dependencies = ['ANOTHER_ENV>ENV'];\n    const baseOptions = { singleton: true };\n    const baseName = 'hash';\n    const baseType = 'service';\n    const newInitializer = initializer(\n      {\n        inject: dependencies,\n        options: baseOptions,\n        type: baseType,\n        name: baseName,\n      },\n      aProvider,\n    );\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.OPTIONS], baseOptions);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.OPTIONS], baseOptions);\n    assert.equal(newInitializer[SPECIAL_PROPS.NAME], baseName);\n    assert.equal(newInitializer[SPECIAL_PROPS.TYPE], baseType);\n  });\n\n  it('should fail with bad properties', () => {\n    assert.throws(() => {\n      initializer(\n        {\n          name: 'yolo',\n          yolo: '',\n        },\n        async () => {},\n      );\n    }, /E_BAD_PROPERTY/);\n  });\n});\n\ndescribe('constant', () => {\n  it('should allow to create an initializer from a constant', async () => {\n    const baseValue = 'THE_VALUE';\n    const baseName = 42;\n    const newInitializer = constant(baseName, baseValue);\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], []);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.OPTIONS], {\n      singleton: true,\n    });\n    assert.equal(newInitializer[SPECIAL_PROPS.NAME], baseName);\n    assert.equal(newInitializer[SPECIAL_PROPS.TYPE], 'constant');\n    assert.equal(newInitializer[SPECIAL_PROPS.VALUE], baseValue);\n    assert.equal(await newInitializer(), baseValue);\n  });\n\n  it('should fail with dependencies since it makes no sense', () => {\n    assert.throws(() => {\n      constant(\n        'time',\n        inject(['hash3'], async () => {}),\n      );\n    }, /E_CONSTANT_INJECTION/);\n  });\n});\n\ndescribe('service', () => {\n  it('should allow to create an initializer from a service builder', async () => {\n    const aServiceBuilder = async () => {};\n    const dependencies = ['ANOTHER_ENV>ENV'];\n    const baseOptions = { singleton: true };\n    const baseName = 'hash';\n    const baseType = 'service';\n    const newInitializer = service(\n      aServiceBuilder,\n      baseName,\n      dependencies,\n      baseOptions,\n    );\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.OPTIONS], baseOptions);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.OPTIONS], baseOptions);\n    assert.equal(newInitializer[SPECIAL_PROPS.NAME], baseName);\n    assert.equal(newInitializer[SPECIAL_PROPS.TYPE], baseType);\n  });\n\n  it('should allow to create an initializer from a service builder', async () => {\n    const aServiceBuilder = async () => {};\n    const dependencies = ['ANOTHER_ENV>ENV'];\n    const baseOptions = { singleton: true };\n    const baseName = 'hash';\n    const baseType = 'service';\n    const newInitializer = service(\n      name(\n        baseName,\n        inject(dependencies, options(baseOptions, aServiceBuilder)),\n      ),\n    );\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.OPTIONS], baseOptions);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.OPTIONS], baseOptions);\n    assert.equal(newInitializer[SPECIAL_PROPS.NAME], baseName);\n    assert.equal(newInitializer[SPECIAL_PROPS.TYPE], baseType);\n  });\n\n  it('should fail with no service builder', () => {\n    assert.throws(() => {\n      service();\n    }, /E_NO_SERVICE_BUILDER/);\n  });\n});\n\ndescribe('autoService', () => {\n  it('should detect the service details', () => {\n    const baseServiceBuilder = async function initializeMySQL({ ENV }) {\n      return ENV;\n    };\n    const newInitializer = autoService(baseServiceBuilder);\n\n    assert.notEqual(newInitializer, baseServiceBuilder);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], ['ENV']);\n    assert.equal(newInitializer[SPECIAL_PROPS.NAME], 'mySQL');\n    assert.equal(newInitializer[SPECIAL_PROPS.TYPE], 'service');\n  });\n\n  it('should detect the service details even with no dependencies', () => {\n    const baseServiceBuilder = async function initializeMySQL() {\n      return;\n    };\n    const newInitializer = autoService(baseServiceBuilder);\n\n    assert.notEqual(newInitializer, baseServiceBuilder);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], []);\n    assert.equal(newInitializer[SPECIAL_PROPS.NAME], 'mySQL');\n    assert.equal(newInitializer[SPECIAL_PROPS.TYPE], 'service');\n  });\n});\n\ndescribe('provider', () => {\n  it('should allow to create an initializer from a provider builder', async () => {\n    const aServiceBuilder = async () => {};\n    const dependencies = ['ANOTHER_ENV>ENV'];\n    const baseOptions = { singleton: true };\n    const baseName = 'hash';\n    const baseType = 'provider';\n    const newInitializer = provider(\n      aServiceBuilder,\n      baseName,\n      dependencies,\n      baseOptions,\n    );\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.OPTIONS], baseOptions);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.OPTIONS], baseOptions);\n    assert.equal(newInitializer[SPECIAL_PROPS.NAME], baseName);\n    assert.equal(newInitializer[SPECIAL_PROPS.TYPE], baseType);\n  });\n\n  it('should allow to create an initializer from a provider builder', async () => {\n    const aServiceBuilder = async () => {};\n    const dependencies = ['ANOTHER_ENV>ENV'];\n    const baseOptions = { singleton: true };\n    const baseName = 'hash';\n    const baseType = 'provider';\n    const newInitializer = provider(\n      name(\n        baseName,\n        inject(dependencies, options(baseOptions, aServiceBuilder)),\n      ),\n    );\n\n    assert.notEqual(newInitializer, aProvider);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], dependencies);\n    assert.notEqual(newInitializer[SPECIAL_PROPS.OPTIONS], baseOptions);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.OPTIONS], baseOptions);\n    assert.equal(newInitializer[SPECIAL_PROPS.NAME], baseName);\n    assert.equal(newInitializer[SPECIAL_PROPS.TYPE], baseType);\n  });\n\n  it('should fail with no provider builder', () => {\n    assert.throws(() => {\n      provider();\n    }, /E_NO_PROVIDER_BUILDER/);\n  });\n});\n\ndescribe('autoProvider', () => {\n  it('should detect the provider details', () => {\n    const baseInitializer = async function initializeMySQL({ ENV }) {\n      return ENV;\n    };\n    const newInitializer = autoProvider(baseInitializer);\n\n    assert.notEqual(newInitializer, baseInitializer);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], ['ENV']);\n    assert.equal(newInitializer[SPECIAL_PROPS.NAME], 'mySQL');\n    assert.equal(newInitializer[SPECIAL_PROPS.TYPE], 'provider');\n  });\n\n  it('should detect the provider details even with no dependencies', () => {\n    const baseInitializer = async function initializeMySQL() {\n      return;\n    };\n    const newInitializer = autoProvider(baseInitializer);\n\n    assert.notEqual(newInitializer, baseInitializer);\n    assert.deepEqual(newInitializer[SPECIAL_PROPS.INJECT], []);\n    assert.equal(newInitializer[SPECIAL_PROPS.NAME], 'mySQL');\n    assert.equal(newInitializer[SPECIAL_PROPS.TYPE], 'provider');\n  });\n});\n\ndescribe('handler', () => {\n  it('should work', async () => {\n    const baseName = 'sampleHandler';\n    const injectedServices = ['kikooo', 'lol'];\n    const services = {\n      kikooo: 'kikooo',\n      lol: 'lol',\n    };\n    const theInitializer = handler(sampleHandler, baseName, injectedServices);\n\n    assert.deepEqual(theInitializer.$name, baseName);\n    assert.deepEqual(theInitializer.$inject, injectedServices);\n\n    const theHandler = await theInitializer(services);\n    const result = await theHandler('test');\n    assert.deepEqual(result, {\n      deps: services,\n      args: ['test'],\n    });\n\n    function sampleHandler(deps, ...args) {\n      return Promise.resolve({ deps, args });\n    }\n  });\n\n  it('should fail with no name', () => {\n    assert.throws(() => {\n      handler(() => {});\n    }, /E_NO_HANDLER_NAME/);\n  });\n});\n\ndescribe('autoHandler', () => {\n  it('should work', async () => {\n    const services = {\n      kikooo: 'kikooo',\n      lol: 'lol',\n    };\n    const theInitializer = autoHandler(sampleHandler);\n\n    assert.deepEqual(theInitializer.$name, sampleHandler.name);\n    assert.deepEqual(theInitializer.$inject, ['kikooo', 'lol']);\n\n    const theHandler = await theInitializer(services);\n    const result = await theHandler('test');\n    assert.deepEqual(result, {\n      deps: services,\n      args: ['test'],\n    });\n\n    async function sampleHandler({ kikooo, lol }, ...args) {\n      return Promise.resolve({ deps: { kikooo, lol }, args });\n    }\n  });\n\n  it('should work with spread services', async () => {\n    const services = {\n      kikooo: 'kikooo',\n      lol: 'lol',\n    };\n    const theInitializer = autoHandler(sampleHandler);\n\n    assert.deepEqual(theInitializer.$name, sampleHandler.name);\n    assert.deepEqual(theInitializer.$inject, ['kikooo', 'lol']);\n\n    const theHandler = await theInitializer(services);\n    const result = await theHandler('test');\n    assert.deepEqual(result, {\n      deps: services,\n      args: ['test'],\n    });\n\n    async function sampleHandler({ kikooo, lol, ...services }, ...args) {\n      return Promise.resolve({ deps: { kikooo, lol, ...services }, args });\n    }\n  });\n\n  it('should fail for anonymous functions', () => {\n    assert.throws(() => {\n      autoHandler(() => {});\n    }, /E_AUTO_NAMING_FAILURE/);\n  });\n});\n\ndescribe('parseDependencyDeclaration', () => {\n  it('should work', () => {\n    assert.deepEqual(parseDependencyDeclaration('db>pgsql'), {\n      serviceName: 'db',\n      mappedName: 'pgsql',\n      optional: false,\n    });\n  });\n\n  it('should work with unmapped names', () => {\n    assert.deepEqual(parseDependencyDeclaration('?pgsql'), {\n      serviceName: 'pgsql',\n      mappedName: 'pgsql',\n      optional: true,\n    });\n  });\n});\n"],"file":"util.mocha.mjs"}