{"version":3,"sources":["../src/random.test.ts"],"names":["assert","sinon","Knifecycle","constant","initRandomService","describe","log","stub","beforeEach","reset","test","done","then","random","deepEqual","args","catch","num","register","run"],"mappings":"AAAA;;AAEA,OAAOA,MAAP,MAAmB,QAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,IAAqBC,QAArB,QAAqC,YAArC;AACA,OAAOC,iBAAP,MAA8B,UAA9B;AAEAC,QAAQ,CAAC,mBAAD,EAAsB,MAAM;AAClC,QAAMC,GAAG,GAAGL,KAAK,CAACM,IAAN,EAAZ;AAEAC,EAAAA,UAAU,CAAC,MAAM;AACfF,IAAAA,GAAG,CAACG,KAAJ;AACD,GAFS,CAAV;AAIAC,EAAAA,IAAI,CAAC,aAAD,EAAiBC,IAAD,IAAU;AAC5BP,IAAAA,iBAAiB,CAAC;AAChBE,MAAAA;AADgB,KAAD,CAAjB,CAGGM,IAHH,CAGSC,MAAD,IAAY;AAChBb,MAAAA,MAAM,CAAC,eAAe,OAAOa,MAAvB,CAAN;AACAb,MAAAA,MAAM,CAACc,SAAP,CAAiBR,GAAG,CAACS,IAArB,EAA2B,CACzB,CAAC,OAAD,EAAU,kCAAV,CADyB,CAA3B;AAGD,KARH,EASGH,IATH,CASQ,MAAMD,IAAI,EATlB,EAUGK,KAVH,CAUSL,IAVT;AAWD,GAZG,CAAJ;AAcAN,EAAAA,QAAQ,CAAC,QAAD,EAAW,MAAM;AACvBK,IAAAA,IAAI,CAAC,aAAD,EAAiBC,IAAD,IAAU;AAC5BP,MAAAA,iBAAiB,CAAC;AAChBE,QAAAA;AADgB,OAAD,CAAjB,CAGGM,IAHH,CAGSC,MAAD,IAAY;AAChBP,QAAAA,GAAG,CAACG,KAAJ;AACA,cAAMQ,GAAG,GAAGJ,MAAM,EAAlB;AAEAb,QAAAA,MAAM,CAACc,SAAP,CAAiBR,GAAG,CAACS,IAArB,EAA2B,CACzB,CAAC,OAAD,EAAU,+BAAV,EAA2CE,GAA3C,CADyB,CAA3B;AAGD,OAVH,EAWGL,IAXH,CAWQ,MAAMD,IAAI,EAXlB,EAYGK,KAZH,CAYSL,IAZT;AAaD,KAdG,CAAJ;AAeD,GAhBO,CAAR;AAkBAD,EAAAA,IAAI,CAAC,6BAAD,EAAiCC,IAAD,IAAU;AAC5C,QAAIT,UAAJ,GACGgB,QADH,CACYd,iBADZ,EAEGc,QAFH,CAEYf,QAAQ,CAAC,KAAD,EAAQG,GAAR,CAFpB,EAGGa,GAHH,CAGO,CAAC,QAAD,CAHP,EAIGP,IAJH,CAIQ,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAgB;AACpBb,MAAAA,MAAM,CAACa,MAAD,CAAN;AACAb,MAAAA,MAAM,CAACc,SAAP,CAAiBR,GAAG,CAACS,IAArB,EAA2B,CACzB,CAAC,OAAD,EAAU,kCAAV,CADyB,CAA3B;AAGD,KATH,EAUGH,IAVH,CAUQ,MAAMD,IAAI,EAVlB,EAWGK,KAXH,CAWSL,IAXT;AAYD,GAbG,CAAJ;AAcD,CArDO,CAAR","sourcesContent":["'use strict';\n\nimport assert from 'assert';\nimport sinon from 'sinon';\nimport Knifecycle, { constant } from 'knifecycle';\nimport initRandomService from './random';\n\ndescribe('initRandomService', () => {\n  const log = sinon.stub();\n\n  beforeEach(() => {\n    log.reset();\n  });\n\n  test('should work', (done) => {\n    initRandomService({\n      log,\n    })\n      .then((random) => {\n        assert('function' === typeof random);\n        assert.deepEqual(log.args, [\n          ['debug', 'ðŸŽ² - Random service initialized.'],\n        ]);\n      })\n      .then(() => done())\n      .catch(done);\n  });\n\n  describe('random', () => {\n    test('should work', (done) => {\n      initRandomService({\n        log,\n      })\n        .then((random) => {\n          log.reset();\n          const num = random();\n\n          assert.deepEqual(log.args, [\n            ['debug', 'ðŸŽ² - Created a random number:', num],\n          ]);\n        })\n        .then(() => done())\n        .catch(done);\n    });\n  });\n\n  test('should work with Knifecycle', (done) => {\n    new Knifecycle()\n      .register(initRandomService)\n      .register(constant('log', log))\n      .run(['random'])\n      .then(({ random }) => {\n        assert(random);\n        assert.deepEqual(log.args, [\n          ['debug', 'ðŸŽ² - Random service initialized.'],\n        ]);\n      })\n      .then(() => done())\n      .catch(done);\n  });\n});\n"],"file":"random.test.mjs"}